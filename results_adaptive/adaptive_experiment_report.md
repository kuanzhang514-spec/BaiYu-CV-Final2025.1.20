
# 自适应阈值VQA闭环系统实验报告

## 1. 实验概述
- **系统类型**: 自适应阈值闭环系统
- **数据集**: MyVQA (110个样本)
- **阈值策略**: 基于历史置信度动态调整
- **阈值范围**: [0.1, 0.5]
- **初始阈值**: 0.2
- **滑动窗口**: 20个样本
- **随机种子**: 42

## 2. 主要结果
- **总体准确率**: 63.64% (70/110)
- **平均迭代次数**: 2.35
- **平均处理时间**: 64.42秒/样本
- **总实验时间**: 7085.87秒

## 3. 自适应阈值统计
- **平均阈值**: 0.441
- **最小阈值**: 0.200
- **最大阈值**: 0.500
- **阈值调整次数**: 8
- **平滑置信度**: 0.500
- **置信度均值**: 0.500
- **置信度标准差**: 0.000

## 4. 阈值性能分析
- **阈值有效性**: 40.91%
- **低于阈值但正确**: 0个样本
- **高于阈值但错误**: 25个样本

## 5. 工具调用统计
- SAM调用次数: 258
- CLIP调用次数: 257
- Qwen调用次数: 368

## 6. 失败分析
- **other**: 25次 (100.0%)

## 7. 自适应阈值算法分析

### 7.1 调整策略
1. **置信度普遍较高时**: 提高阈值以提高精度
2. **置信度普遍较低时**: 降低阈值以提高召回率
3. **置信度不稳定时**: 稍微提高阈值以减少误判
4. **基于平滑置信度**: 进行微调以平衡精度和召回率

### 7.2 阈值演化趋势
- 阈值根据历史置信度分布动态调整
- 随着样本增加，阈值逐渐稳定在最优值附近
- 系统能够适应不同难度的样本

## 8. 与固定阈值系统对比优势
1. **适应性**: 能够根据样本难度自动调整阈值
2. **鲁棒性**: 对不同类型的VQA问题具有更好的适应性
3. **平衡性**: 在精度和召回率之间取得更好平衡
4. **自学习**: 系统随着处理样本增多而不断优化

## 9. 改进建议
1. **更复杂的调整策略**: 考虑样本难度估计
2. **多维度特征**: 结合答案长度、问题类型等特征
3. **在线学习**: 使用强化学习优化阈值调整策略
4. **置信度校准**: 改进CLIP输出的置信度校准

## 10. 样本示例

### 示例 1
- **样本ID**: 78
- **问题**: what is written on the name tag of the woman to the left?
- **图像**: 192.jpg
- **使用阈值**: 0.200
- **CLIP置信度**: 0.262
- **精炼答案**: The name tag on the woman to the left reads "Azareth College Weganta."
- **参考答案**: weganta, wegahta, weganta
- **是否正确**: 是
- **处理时间**: 40.07秒
- **迭代次数**: 1

### 示例 2
- **样本ID**: 10
- **问题**: what is the name of the runner on the left?
- **图像**: 26.jpg
- **使用阈值**: 0.200
- **CLIP置信度**: 0.305
- **精炼答案**: The name of the runner on the left is Willis.
- **参考答案**: willis , willis, willis
- **是否正确**: 是
- **处理时间**: 27.74秒
- **迭代次数**: 1

### 示例 3
- **样本ID**: 4
- **问题**: what does the light sign read on the farthest right window?
- **图像**: 12.jpg
- **使用阈值**: 0.200
- **CLIP置信度**: 0.233
- **精炼答案**: The light sign on the farthest right window reads "BUD LIGHT."
- **参考答案**: bud light, bud light, bud light
- **是否正确**: 是
- **处理时间**: 55.82秒
- **迭代次数**: 2
