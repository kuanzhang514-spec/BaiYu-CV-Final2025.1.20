
# 可验证视觉问答闭环系统实验报告

## 1. 实验概述
- 数据集：TextVQA（110个样本）
- 闭环配置：最大迭代2次，置信度阈值0.2
- 随机种子：42
- 缓存加速：启用
- 并行调用：启用

## 2. 主要结果
- **总体准确率**：90.00% (99/110)
- **平均迭代次数**：1.35
- **平均处理时间**：2.20秒/样本
- **总实验时间**：242.44秒

## 3. 缓存加速效果
- **缓存命中率**：95.32%
- **总命中次数**：530
- **总未命中次数**：26
- **预估节省时间**：21.80秒
- **内存缓存大小**：Qwen: 216, 
                   SAM: 128,
                   CLIP: 109

## 4. 工具调用统计
- SAM调用次数：149
- CLIP调用次数：148
- Qwen调用次数：259

## 5. 失败分析
- **other**: 10次 (100.0%)

## 6. 关键发现
1. **定位准确性**：Qwen能够提取坐标，但有时提取的坐标不准确
2. **证据质量**：SAM分割的证据图有时不能包含关键信息
3. **验证有效性**：CLIP验证能够过滤部分错误答案，但阈值需要调整
4. **缓存效果**：缓存显著减少了重复调用，提升实验速度{self.config.CACHE_ENABLED}
5. **系统稳定性**：整个闭环系统能够稳定运行，但耗时较长

## 7. 改进建议
1. **坐标提取优化**：改进正则表达式，处理更多坐标格式
2. **证据图增强**：考虑使用多个候选区域，选择最佳证据
3. **验证策略**：调整CLIP温度参数，提高分数区分度
4. **并行处理**：将多个工具调用并行化以减少时间
5. **缓存优化**：增加缓存预热、预加载策略
6. **批量处理**：支持批量样本同时处理，减少网络开销

## 8. 样本示例

### 示例 1
- **问题**: what is written on the name tag of the woman to the left?
- **初始答案**: (100,808,350,938) (350,808,350,938)
- **精炼答案**: The name tag on the woman to the left reads "Azareth College Weganta."
- **置信度**: 0.262
- **是否正确**: 是
- **缓存命中**: Qwen:1, SAM:0, CLIP:0
- **处理时间**: 0.02秒 (节省0.20秒)

### 示例 2
- **问题**: what is the name of the runner on the left?
- **初始答案**: Willis (150, 25) (500, 999)
- **精炼答案**: The name of the runner on the left is Willis.
- **置信度**: 0.305
- **是否正确**: 是
- **缓存命中**: Qwen:1, SAM:0, CLIP:0
- **处理时间**: 0.00秒 (节省0.20秒)

### 示例 3
- **问题**: what does the light sign read on the farthest right window?
- **初始答案**: (815,105,999,198) (815,105,999,198)
- **精炼答案**: The light sign on the farthest right window reads "LIGHT."
- **置信度**: 0.220
- **是否正确**: 否
- **缓存命中**: Qwen:1, SAM:0, CLIP:0
- **处理时间**: 0.01秒 (节省0.20秒)
