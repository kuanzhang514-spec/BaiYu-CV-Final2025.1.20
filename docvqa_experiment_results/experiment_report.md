
# 可验证视觉问答闭环系统实验报告 - DocVQA数据集

## 1. 实验概述
- 数据集：DocVQA（200个样本）
- 闭环配置：最大迭代2次，置信度阈值0.2
- 随机种子：42

## 2. 主要结果
- **总体准确率**：34.00% (68/200)
- **平均迭代次数**：1.37
- **平均处理时间**：11.98秒/样本
- **总实验时间**：2397.00秒

## 3. 工具调用统计
- SAM调用次数：274
- CLIP调用次数：272
- Qwen调用次数：474

## 4. 失败分析
- **reasoning_failure**: 24次 (18.5%)
- **other**: 106次 (81.5%)

## 5. DocVQA数据集特点分析
1. **文档类型多样**：包含表格、图表、票据、文档等
2. **文本密集**：需要精确的OCR能力
3. **数值问题多**：很多问题涉及数字和计算
4. **结构理解重要**：需要理解表格结构和文档布局

## 6. 关键发现
1. **定位挑战**：文档图像中的文本区域定位比自然图像更具挑战性
2. **OCR准确性**：Qwen的OCR能力对文档图像准确率影响大
3. **数值验证**：CLIP对数值类答案的验证效果需要进一步评估
4. **证据质量**：文档分割需要更精确的边界框

## 7. 改进建议
1. **预处理优化**：对文档图像进行增强预处理（去噪、二值化等）
2. **坐标提取改进**：针对文档坐标格式优化正则表达式
3. **多尺度验证**：尝试不同尺度的证据图进行验证
4. **后处理规则**：针对数值答案添加后处理规则

## 8. 样本示例

### 示例 1
- **问题**: what is the cocks-Clark engraving company's order no ?
- **初始答案**: R 5497
- **精炼答案**: The order number for the Cocks-Clark Engraving Company is R 5497.
- **置信度**: 0.262
- **是否正确**: 否
- **处理时间**: 9.71秒
- **失败类型**: other

### 示例 2
- **问题**: what is the mortality of group 1?
- **初始答案**: (100.0, 100.0) (100.0, 100.0)
- **精炼答案**: The mortality of group 1 is 71.7%.
- **置信度**: 0.232
- **是否正确**: 否
- **处理时间**: 8.73秒
- **失败类型**: other

### 示例 3
- **问题**: What is the subject mentioned in this document?
- **初始答案**: Product Development Contract (11, 11, 988, 988)
- **精炼答案**: The subject mentioned in this document is "Product Development Contract."
- **置信度**: 0.317
- **是否正确**: 是
- **处理时间**: 7.58秒
- **失败类型**: N/A
